"use strict";(self.webpackChunkrachels_staples=self.webpackChunkrachels_staples||[]).push([[152],{303:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Z});var l=n(7462),r=n(7294),a=n(7036),i=n(4519),m=n(3156),u=n(5861),o=n(6886),s=n(1903),d=n(7357),c=n(3321),h=n(1975),f=n(9070),b=n(7676),p=n(7536);const Z=()=>{const[e,t]=r.useState(new Array),{handleSubmit:n,register:Z,watch:g}=(0,p.cI)({defaultValues:{idColumn:2,dataColumn:3,numberOfDeletions:15,minimumSurrounderValue:4}}),E=g("file"),w=n((async e=>{const{numberOfDeletions:n,minimumSurrounderValue:l}=e,r=await e.file[0].text(),a=new Array;let i=null;const m=new Set,u=r.split("\n");for(const t of u){const r=t.split("\t"),u=r[e.idColumn-1],o=Number(r[e.dataColumn-1]);if(0!==o&&o>=l){if(m.size>=n){a.push({startingId:i,endingId:u,lengthOfDeletion:m.size}),i=u,m.clear();continue}i=u}else 0!==o&&o<l?(i=null,m.clear()):0===o&&i&&m.add(u)}t(a)}));return r.createElement(b.Z,null,r.createElement(m.Z,{sx:{marginBottom:10}},r.createElement(u.Z,{component:"h1",variant:"h2",gutterBottom:!0},"Genome Sequence Deletion Finder"),r.createElement("form",{onSubmit:w},r.createElement(o.ZP,{container:!0,spacing:3},r.createElement(o.ZP,{item:!0,xs:12,md:6},r.createElement(s.Z,(0,l.Z)({fullWidth:!0,required:!0,label:"Id Column",type:"number"},Z("idColumn",{valueAsNumber:!0}),{helperText:"The column number from the left, starting at 1, that contains the ID of each row"}))),r.createElement(o.ZP,{item:!0,xs:12,md:6},r.createElement(s.Z,(0,l.Z)({fullWidth:!0,required:!0,label:"Data Column",type:"number"},Z("dataColumn",{valueAsNumber:!0}),{helperText:"The column number from the left, starting at 1, that contains the data to detect deletions within"}))),r.createElement(o.ZP,{item:!0,xs:12,md:6},r.createElement(s.Z,(0,l.Z)({required:!0,fullWidth:!0,label:"Number of Deletions",type:"number"},Z("numberOfDeletions",{valueAsNumber:!0}),{helperText:"The minimum number of deletions (Zeroes) to detect"}))),r.createElement(o.ZP,{item:!0,xs:12,md:6},r.createElement(s.Z,(0,l.Z)({required:!0,fullWidth:!0,label:"Minimum Surrounder Value",type:"number"},Z("minimumSurrounderValue",{valueAsNumber:!0}),{helperText:"The data surrounding the deletion must be greater than or equal to this value"}))),r.createElement(o.ZP,{item:!0,xs:12},r.createElement(d.Z,{marginRight:2},r.createElement(c.Z,{variant:"outlined",component:"label",htmlFor:"file-input",startIcon:E?r.createElement(a.Z,null):r.createElement(i.Z,null)},"Upload Tab-Delimited Data",r.createElement("input",(0,l.Z)({id:"file-input",type:"file",hidden:!0},Z("file"),{accept:".csv,.txt,.tsv"})))),r.createElement(d.Z,null))),r.createElement(o.ZP,{item:!0,xs:12,marginTop:3},r.createElement(c.Z,{size:"large",type:"submit",variant:"contained",disabled:!E},"Process"))),r.createElement(d.Z,{marginY:5,height:400,width:"100%"},r.createElement(h._,{rows:e,columns:[{field:"startingId",headerName:"Starting Id",width:200},{field:"endingId",headerName:"Ending Id",width:200},{field:"lengthOfDeletion",headerName:"Length of Deletion",width:200}],getRowId:e=>e.startingId,rowsPerPageOptions:[100],components:{Toolbar:f.n}}))))}}}]);